# ğŸ« Campung Backend

> **ì°¨ì„¸ëŒ€ AI ê¸°ë°˜ ìº í¼ìŠ¤ ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼**  
> ì‹¤ì‹œê°„ ê°ì • ë¶„ì„, ìœ„ì¹˜ ê³µìœ , AI ë¶„ìœ„ê¸° ìš”ì•½ì„ í†µí•œ ìŠ¤ë§ˆíŠ¸ ìº í¼ìŠ¤ ë¼ì´í”„

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ì†Œê°œ](#-í”„ë¡œì íŠ¸-ì†Œê°œ)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [í•µì‹¬ ê¸°ìˆ ì  íŠ¹ì§•](#-í•µì‹¬-ê¸°ìˆ ì -íŠ¹ì§•)
- [ì•„í‚¤í…ì²˜](#-ì•„í‚¤í…ì²˜)
- [íŒ¨í‚¤ì§€ë³„ ì£¼ìš” ê¸°ìˆ ](#-íŒ¨í‚¤ì§€ë³„-ì£¼ìš”-ê¸°ìˆ )
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [ì„¤ì¹˜ ë° ì‹¤í–‰](#-ì„¤ì¹˜-ë°-ì‹¤í–‰)
- [í™˜ê²½ ë³€ìˆ˜](#-í™˜ê²½-ë³€ìˆ˜)

## ğŸ¯ í”„ë¡œì íŠ¸ ì†Œê°œ

**Campung**ì€ ìº í¼ìŠ¤ ë‚´ í•™ìƒë“¤ì˜ ì¼ìƒê³¼ ê°ì •ì„ AIë¡œ ë¶„ì„í•˜ì—¬, ì‹¤ì‹œê°„ ìº í¼ìŠ¤ ë¶„ìœ„ê¸°ë¥¼ ì œê³µí•˜ëŠ” ì°¨ì„¸ëŒ€ ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼ì…ë‹ˆë‹¤.

### ğŸŒŸ í•µì‹¬ ê°€ì¹˜

- **ğŸ¤– AI ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸**: GPT-5ë¥¼ í™œìš©í•œ ê°ì • ë¶„ì„ ë° ë¶„ìœ„ê¸° ìš”ì•½
- **ğŸ“ ìœ„ì¹˜ ê¸°ë°˜ ì„œë¹„ìŠ¤**: Geohash ì•Œê³ ë¦¬ì¦˜ì„ í†µí•œ ì •ë°€í•œ ì§€ì—­ë³„ ì •ë³´ ì œê³µ
- **âš¡ ì‹¤ì‹œê°„ ê²½í—˜**: WebSocketê³¼ FCMì„ í†µí•œ ì¦‰ì‹œ ì•Œë¦¼ ì‹œìŠ¤í…œ
- **ğŸŒ¡ï¸ ìº í¼ìŠ¤ ì˜¨ë„**: ê²Œì‹œê¸€ ê°ì •ê³¼ í™œë™ëŸ‰ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ì‹¤ì‹œê°„ ìº í¼ìŠ¤ ë¶„ìœ„ê¸° ì§€í‘œ

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

### 1. **ì‹¤ì‹œê°„ ìº í¼ìŠ¤ ì˜¨ë„ ì‹œìŠ¤í…œ**
- ê²Œì‹œê¸€ ê°ì • ë¶„ì„ì„ í†µí•œ ìº í¼ìŠ¤ ë¶„ìœ„ê¸° ì˜¨ë„ ê³„ì‚°
- ê²Œì‹œê¸€ í™œë™ë„ ê¸°ë°˜ ë™ì  ì˜¨ë„ ì¡°ì •
- ì‹œê°„ëŒ€ë³„ ì˜ˆì¸¡ ë° ìë™ ë³´ì • ì‹œìŠ¤í…œ

### 2. **AI ê¸°ë°˜ ëœë“œë§ˆí¬ ë¶„ìœ„ê¸° ë¶„ì„**
- GPT-5ë¥¼ í™œìš©í•œ ê±´ë¬¼ë³„ ì‹¤ì‹œê°„ ë¶„ìœ„ê¸° ìš”ì•½
- ë¹„ìš© ìµœì í™”ëœ GPT-5-mini ëª¨ë¸ ì‚¬ìš©
- Redis ìºì‹±ì„ í†µí•œ ê³ ì„±ëŠ¥ ì‘ë‹µ

### 3. **ìŠ¤ë§ˆíŠ¸ ê²Œì‹œê¸€ ê´€ë¦¬**
- Redis ê¸°ë°˜ ì‹¤ì‹œê°„ HOT ê²Œì‹œê¸€ ì‹œìŠ¤í…œ
- ìº í¼ìŠ¤ ìƒí™œ íŒ¨í„´ ë°˜ì˜ (05ì‹œ ê¸°ì¤€ ì‚¬ì´í´)
- S3 í†µí•© ì¸ë„¤ì¼ ìë™ ìƒì„±

### 4. **ì‹¤ì‹œê°„ ìœ„ì¹˜ ê³µìœ **
- Geohash ì•Œê³ ë¦¬ì¦˜ì„ í†µí•œ ì •ë°€í•œ ìœ„ì¹˜ ì²˜ë¦¬
- Firebase FCM ê¸°ë°˜ ì¦‰ì‹œ ì•Œë¦¼
- ê°œì¸ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•œ ì‹œê°„ ì œí•œ (5ë¶„)

### 5. **ì§€ëŠ¥í˜• ì•Œë¦¼ ì‹œìŠ¤í…œ**
- ìœ„ì¹˜ ê¸°ë°˜ ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ë¸Œë¡œë“œìºìŠ¤íŒ…
- DB + FCM ì´ì¤‘ ì•Œë¦¼ìœ¼ë¡œ ì•ˆì •ì„± ë³´ì¥
- ì‚¬ìš©ì ë§ì¶¤ ì•Œë¦¼ ì„¤ì •

### 6. **ë³´ì•ˆ ê°•í™” ì¸ì¦**
- SHA-256 ì•”í˜¸í™” ê¸°ë°˜ ì•ˆì „í•œ ì‚¬ìš©ì ì¸ì¦
- ì–‘ë°©í–¥ ì¹œêµ¬ ê´€ê³„ ë¬´ê²°ì„± ë³´ì¥
- JWT í† í° í™•ì¥ ì¤€ë¹„

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### **Backend Core**
- **Framework**: Spring Boot 3.x, Spring Security
- **Database**: MariaDB (Latest), Redis 7.x
- **ORM**: JPA/Hibernate with QueryDSL

### **AI & External Services**
- **AI**: OpenAI GPT-5 (Chat Completions API)
- **Cloud**: AWS S3 (íŒŒì¼ ì €ì¥), Firebase FCM (í‘¸ì‹œ ì•Œë¦¼)
- **GIS**: GeoHash Algorithm (davidmoten/geo)

### **Real-time & Messaging**
- **WebSocket**: Spring WebSocket, SimpMessagingTemplate
- **Push Notification**: Firebase Cloud Messaging
- **Caching**: Redis with Spring Data Redis

### **Development & Deployment**
- **Build**: Gradle, Docker Compose
- **API Documentation**: Swagger/OpenAPI 3.0
- **Monitoring**: SLF4J Logging

## âš¡ í•µì‹¬ ê¸°ìˆ ì  íŠ¹ì§•

### 1. **GPT-5 ê¸°ë°˜ ë°°ì¹˜ ê°ì • ë¶„ì„**
```java
// 30ê°œì”© ì²­í¬ ë¶„í• ë¡œ API í˜¸ì¶œ ìµœì í™”
public Map<String, Integer> processBatchEmotions(List<PostData> posts, BatchEmotionAnalyzer analyzer) {
    if (posts.size() <= MAX_BATCH_SIZE) {
        return analyzer.analyzeSingleBatch(posts);
    }
    return processInChunks(posts, analyzer);
}
```

### 2. **Geohash ê¸°ë°˜ ê³µê°„ ì¸ë±ì‹±**
```java
// 8ìë¦¬ ì •ë°€ë„ (ì•½ 40m) + 3x3 ì£¼ë³€ ì…€ ê²€ìƒ‰
public Set<String> neighbors3x3(String hash8) {
    var set = new LinkedHashSet<String>();
    set.add(hash8);                    // ì¤‘ì‹¬ ì…€
    set.addAll(GeoHash.neighbours(hash8)); // ì£¼ë³€ 8ê°œ ì…€
    return set; // ì´ 9ê°œ ì…€ (ì•½ 100m ë°˜ê²½)
}
```

### 3. **ë™ì  ì˜¨ë„ ì¡°ì • ì•Œê³ ë¦¬ì¦˜**
```java
// ì˜¨ë„ ë³´í˜¸ + ì‹œê°„ëŒ€ë³„ íŒ¨í„´ + í™œë™ë„ ë°˜ì˜
private double calculateBidirectionalAdjustment(double currentTemp, int postCount, int hour) {
    double protectionFactor = getTemperatureProtectionFactor(currentTemp, isIncreasing);
    double timeMultiplier = guideline.getIncreaseMultiplier();
    double finalRate = baseAdjustmentRate * protectionFactor * timeMultiplier;
    return currentTemp * (1 + finalRate);
}
```

### 4. **WebSocket ì§€ì—­ë³„ ë¸Œë¡œë“œìºìŠ¤íŒ…**
```java
// Geohash ê¸°ë°˜ ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ì „íŒŒ
for (String neighborCell : geohash.neighbors3x3(cell)) {
    String topic = "/topic/newpost/" + neighborCell;
    broker.convertAndSend(topic, event);
}
```

## ğŸ— ì•„í‚¤í…ì²˜

```
ğŸ“¦ Campung Backend Architecture

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Client Apps   â”‚    â”‚   Web Clients   â”‚    â”‚  Admin Panel    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚              API Gateway                       â”‚
         â”‚            (Load Balancer)                     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚             Spring Boot Backend                â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
         â”‚  â”‚   Content   â”‚  â”‚  Landmark   â”‚  â”‚   Emotion   â”‚ â”‚
         â”‚  â”‚   Package   â”‚  â”‚   Package   â”‚  â”‚   Package   â”‚ â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
         â”‚  â”‚    User     â”‚  â”‚ LocationShareâ”‚ â”‚Notification â”‚ â”‚
         â”‚  â”‚  Friendship â”‚  â”‚     GEO     â”‚  â”‚   Package   â”‚ â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚              Data Layer                        â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
         â”‚  â”‚   MariaDB   â”‚  â”‚    Redis    â”‚  â”‚  WebSocket  â”‚ â”‚
         â”‚  â”‚  (Primary)  â”‚  â”‚  (Cache)    â”‚  â”‚   Broker    â”‚ â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚            External Services                   â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
         â”‚  â”‚  OpenAI     â”‚  â”‚   AWS S3    â”‚  â”‚ Firebase    â”‚ â”‚
         â”‚  â”‚   GPT-5     â”‚  â”‚   Storage   â”‚  â”‚    FCM      â”‚ â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“š íŒ¨í‚¤ì§€ë³„ ì£¼ìš” ê¸°ìˆ 

### ğŸ—‚ Content Package
- **Redis ê¸°ë°˜ HOT ê²Œì‹œê¸€ ì‹œìŠ¤í…œ**: 24ì‹œê°„ ìŠ¬ë¼ì´ë”© ìœˆë„ìš°
- **05ì‹œ ê¸°ì¤€ ìº í¼ìŠ¤ ì‚¬ì´í´**: ëŒ€í•™ ìƒí™œ íŒ¨í„´ ë°˜ì˜
- **S3 í†µí•© ì¸ë„¤ì¼ ì‹œìŠ¤í…œ**: ìë™ ë¦¬ì‚¬ì´ì§• ë° CDN ì¤€ë¹„

### ğŸ¢ Landmark Package
- **GPT-5 ë¶„ìœ„ê¸° ë¶„ì„**: ë¹„ìš© ìµœì í™” GPT-5-mini ì‚¬ìš©
- **ê³ ê¸‰ Redis ìºì‹±**: íŒŒë¼ë¯¸í„°ë³„ ì„¸ë¶„í™” ìºì‹±
- **ìë™í™” ìŠ¤ì¼€ì¤„ëŸ¬**: 1ì‹œê°„ë§ˆë‹¤ ìë™ ìš”ì•½ ìƒì„±

### ğŸŒ¡ Emotion Package
- **ë°°ì¹˜ ê°ì • ë¶„ì„**: 30ê°œì”© ì²­í¬ ë¶„í•  ì²˜ë¦¬
- **ë™ì  ì˜¨ë„ ê´€ë¦¬**: ì˜ˆì¸¡ ê¸°ë°˜ ì˜¨ë„ ì¡°ì •
- **ì‹¤ì‹œê°„ í†µê³„**: ì‹œê°„ëŒ€ë³„ ì˜¨ë„ ë³€í™” ì¶”ì 

### ğŸ‘¥ User & Friendship Package
- **SHA-256 ë³´ì•ˆ ì¸ì¦**: ë‹¨ë°©í–¥ ì•”í˜¸í™”
- **ì–‘ë°©í–¥ ì¹œêµ¬ ì‹œìŠ¤í…œ**: ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥
- **FCM í† í° ìë™ ê°±ì‹ **: ë‹¤ì¤‘ ë””ë°”ì´ìŠ¤ ì¤€ë¹„

### ğŸ“ LocationShare & GEO Package
- **Geohash ê³µê°„ ì¸ë±ì‹±**: 8ìë¦¬ ì •ë°€ë„ (40m)
- **ì‹¤ì‹œê°„ ìœ„ì¹˜ ê³µìœ **: 5ë¶„ ì œí•œ ê°œì¸ì •ë³´ ë³´í˜¸
- **Firebase í†µí•©**: êµ¬ì¡°í™”ëœ í‘¸ì‹œ ì•Œë¦¼

### ğŸ”” Notification Package
- **ë‹¤ì±„ë„ ì•Œë¦¼**: DB + FCM ì´ì¤‘ ì‹œìŠ¤í…œ
- **WebSocket ë¸Œë¡œë“œìºìŠ¤íŒ…**: ì§€ì—­ë³„ ì‹¤ì‹œê°„ ì´ë²¤íŠ¸
- **ìŠ¤ë§ˆíŠ¸ í•„í„°ë§**: ì½ì§€ ì•Šì€ ì•Œë¦¼ë§Œ ì¡°íšŒ

## ğŸ“– API ë¬¸ì„œ

API ë¬¸ì„œëŠ” Swaggerë¥¼ í†µí•´ ìë™ ìƒì„±ë©ë‹ˆë‹¤.

```
http://localhost:8080/swagger-ui/index.html
```

### ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

- **ê²Œì‹œê¸€**: `/api/content/*` - CRUD, HOT ê²Œì‹œê¸€, ê²€ìƒ‰
- **ëœë“œë§ˆí¬**: `/api/landmark/*` - ê±´ë¬¼ë³„ ë¶„ìœ„ê¸° ìš”ì•½
- **ê°ì •/ì˜¨ë„**: `/api/emotion/*` - ìº í¼ìŠ¤ ì˜¨ë„ ì¡°íšŒ
- **ì‚¬ìš©ì**: `/api/user/*` - ì¸ì¦, íšŒì›ê´€ë¦¬
- **ì¹œêµ¬**: `/api/friendship/*` - ì¹œêµ¬ ìš”ì²­, ê´€ë¦¬
- **ìœ„ì¹˜ ê³µìœ **: `/api/location-share/*` - ì‹¤ì‹œê°„ ìœ„ì¹˜ ê³µìœ 
- **ì•Œë¦¼**: `/api/notification/*` - ì•Œë¦¼ ì¡°íšŒ, ì„¤ì •

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

```bash
# Java 17+
java -version

# Docker & Docker Compose
docker --version
docker-compose --version
```

### 1. í”„ë¡œì íŠ¸ í´ë¡ 
```bash
git clone <repository-url>
cd campung-backend
```

### 2. Docker Composeë¡œ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `docker-compose.yml` íŒŒì¼ì„ ìƒì„±í•˜ì„¸ìš”:

```yaml
services:
  mariadb:
    image: mariadb:latest
    container_name: campung
    environment:
      MYSQL_ROOT_PASSWORD: campung1234
      MYSQL_DATABASE: campung
      MYSQL_USER: campung
      MYSQL_PASSWORD: campung1234
    ports:
      - "3312:3306"
    volumes:
      - mariadb_data:/var/lib/mysql

  phpmyadmin:
    image: phpmyadmin:latest
    container_name: campung-phpmyadmin
    environment:
      PMA_HOST: mariadb
      PMA_USER: campung
      PMA_PASSWORD: campung1234
      MYSQL_ROOT_PASSWORD: campung1234
    ports:
      - "9013:80"
    depends_on:
      - mariadb

  redis:
    image: redis:alpine
    ports:
      - "6380:6379"
    container_name: campung-redis
    volumes:
      - redis_data:/data
    command: [ "redis-server", "--requirepass", "campung1234" ]

volumes:
  mariadb_data:
  redis_data:
```

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`src/main/resources/properties/env.properties` íŒŒì¼ì„ ìƒì„±í•˜ì„¸ìš”:

```properties
SERVER_PORT=8080
DB_HOST=localhost
DB_PORT=3312
DB_NAME=campung
DB_USERNAME=campung
DB_PASSWORD=campung1234
REDIS_HOST=localhost
REDIS_PORT=6380
REDIS_PASSWORD=campung1234

AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=ap-northeast-2
S3_BUCKET_NAME=campung-media-storage

OPENAI_API_KEY=your-openai-api-key
```

### 4. Firebase ì„¤ì •

`src/main/resources/firebase-service-account.json` íŒŒì¼ì„ ìƒì„±í•˜ê³ , Firebase ì½˜ì†”ì—ì„œ ë‹¤ìš´ë¡œë“œë°›ì€ ì„œë¹„ìŠ¤ ê³„ì • í‚¤ë¥¼ ë„£ìœ¼ì„¸ìš”:

```json
{
  "type": "service_account",
  "project_id": "your-project-id",
  "private_key_id": "your-private-key-id",
  "private_key": "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n",
  "client_email": "firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com",
  "client_id": "your-client-id",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token",
  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-xxxxx%40your-project.iam.gserviceaccount.com"
}
```

### 5. ë°ì´í„°ë² ì´ìŠ¤ ë° Redis ì‹œì‘
```bash
# Docker Composeë¡œ MariaDB, Redis, phpMyAdmin ì‹¤í–‰
docker-compose up -d

# ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸
# phpMyAdmin: http://localhost:9013 (campung/campung1234)
```

### 6. ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ ë° ì‹¤í–‰
```bash
# ì˜ì¡´ì„± ì„¤ì¹˜ ë° ë¹Œë“œ
./gradlew build

# ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
./gradlew bootRun
```

### 7. ì ‘ì† ì •ë³´
- **API ì„œë²„**: http://localhost:8080
- **Swagger ë¬¸ì„œ**: http://localhost:8080/swagger-ui/index.html
- **phpMyAdmin**: http://localhost:9013 (campung/campung1234)
- **MariaDB**: localhost:3312
- **Redis**: localhost:6380 (password: campung1234)

## âš™ï¸ í™˜ê²½ ë³€ìˆ˜

### application.yml ì„¤ì • ì˜ˆì‹œ

```yaml
spring:
  datasource:
    url: jdbc:mariadb://${DB_HOST:localhost}:${DB_PORT:3312}/${DB_NAME:campung}
    username: ${DB_USERNAME:campung}
    password: ${DB_PASSWORD:campung1234}
    driver-class-name: org.mariadb.jdbc.Driver
  
  redis:
    host: ${REDIS_HOST:localhost}
    port: ${REDIS_PORT:6380}
    password: ${REDIS_PASSWORD:campung1234}
  
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    database-platform: org.hibernate.dialect.MariaDBDialect

server:
  port: ${SERVER_PORT:8080}

openai:
  api:
    key: ${OPENAI_API_KEY}
    url: https://api.openai.com/v1/chat/completions

aws:
  s3:
    bucket: ${S3_BUCKET_NAME:campung-media-storage}
    region: ${AWS_REGION:ap-northeast-2}
    access-key: ${AWS_ACCESS_KEY_ID}
    secret-key: ${AWS_SECRET_ACCESS_KEY}

firebase:
  config-path: firebase-service-account.json

app:
  default-profile-image-url: ${DEFAULT_PROFILE_IMAGE_URL:https://example.com/default.jpg}
```

### í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

**env.properties íŒŒì¼ì—ì„œ ì„¤ì •í•´ì•¼ í•˜ëŠ” ê°’ë“¤:**

- `OPENAI_API_KEY`: OpenAI GPT-5 API í‚¤
- `AWS_ACCESS_KEY_ID`, `AWS_SECRET_ACCESS_KEY`: AWS S3 ì ‘ê·¼ í‚¤
- `S3_BUCKET_NAME`: S3 ë²„í‚· ì´ë¦„
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì •ë³´ (ì´ë¯¸ docker-composeì—ì„œ ì„¤ì •ë¨)
- Redis ì—°ê²° ì •ë³´ (ì´ë¯¸ docker-composeì—ì„œ ì„¤ì •ë¨)

### íŒŒì¼ êµ¬ì¡°
```
src/main/resources/
â”œâ”€â”€ application.yml
â”œâ”€â”€ properties/
â”‚   â””â”€â”€ env.properties          # í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
â””â”€â”€ firebase-service-account.json  # Firebase ì„œë¹„ìŠ¤ ê³„ì • í‚¤
```

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë¡œê·¸

### ë¡œê·¸ ë ˆë²¨ ì„¤ì •
```yaml
logging:
  level:
    com.example.campung: INFO
    org.springframework.web.socket: DEBUG
  pattern:
    console: "%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
```
